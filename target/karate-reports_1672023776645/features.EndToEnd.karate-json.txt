{"failedCount":1,"prefixedPath":"classpath:features\/EndToEnd.feature","packageQualifiedName":"features.EndToEnd","loopIndex":-1,"relativePath":"features\/EndToEnd.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":876401,"millis":0.876401,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"url \"https:\/\/tek-insurance-api.azurewebsites.net\""},"stepLog":"10:38:57.687 karate.env system property was: null \n"},{"result":{"nanos":1346123600,"millis":1346.1236,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"def token = call read(\"GenerateToken.feature\")"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:features\/GenerateToken.feature","packageQualifiedName":"features.GenerateToken","loopIndex":-1,"relativePath":"features\/GenerateToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":498700,"millis":0.4987,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"url \"https:\/\/tek-insurance-api.azurewebsites.net\""}},{"result":{"nanos":707400,"millis":0.7074,"status":"passed"},"step":{"line":5,"prefix":"*","index":1,"text":"path \"\/api\/token\""}},{"result":{"nanos":38811900,"millis":38.8119,"status":"passed"},"step":{"line":6,"prefix":"*","index":2,"text":"request {\"username\":\"supervisor\",\"password\":\"tek_supervisor\"}"}},{"result":{"nanos":1284378400,"millis":1284.3784,"status":"passed"},"step":{"line":7,"prefix":"*","index":3,"text":"method post"},"stepLog":"10:38:58.189 request:\n1 > POST https:\/\/tek-insurance-api.azurewebsites.net\/api\/token\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 53\n1 > Host: tek-insurance-api.azurewebsites.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.15.1)\n1 > Accept-Encoding: gzip,deflate\n{\"username\":\"supervisor\",\"password\":\"tek_supervisor\"}\n\n10:38:59.054 response time in milliseconds: 860\n1 < 200\n1 < Content-Type: application\/json\n1 < Date: Thu, 08 Dec 2022 18:39:01 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n{\"fullName\":\"Supervisor\",\"username\":\"SUPERVISOR\",\"token\":\"eyJraWQiOiJUZWtzY2hvb2wgSW5zdXJhbmNlIEFwcGxpY2F0aW9uIiwidHlwIjoiSldUIiwiYWxnIjoiSFM1MTIifQ.eyJhdWQiOiJVc2VyIG1hbmFnZW1lbnQgcG9ydGFsIiwic3ViIjoiU1VQRVJWSVNPUiIsImlzcyI6IlRlayBJbnN1cmFuY2UgQXBwbGljYXRpb24iLCJBdXRob3JpdGllcyI6WyJBRE1JTiJdLCJleHAiOjE2NzA2MTExNDEsImlhdCI6MTY3MDUyNDc0MX0.PWpgNQEGY55s_r-RAHhGpfrquBEs9R902HhWsZDGfXxeb09wb4Jrd8pRySpRpJ0tpU2ZeTtiGIAb2wQc88nOTA\",\"generateDate\":1670524741189,\"accountType\":\"CSR\"}\n\n"},{"result":{"nanos":6425500,"millis":6.4255,"status":"passed"},"step":{"line":8,"prefix":"*","index":4,"text":"print response.token"},"stepLog":"10:38:59.065 [print] eyJraWQiOiJUZWtzY2hvb2wgSW5zdXJhbmNlIEFwcGxpY2F0aW9uIiwidHlwIjoiSldUIiwiYWxnIjoiSFM1MTIifQ.eyJhdWQiOiJVc2VyIG1hbmFnZW1lbnQgcG9ydGFsIiwic3ViIjoiU1VQRVJWSVNPUiIsImlzcyI6IlRlayBJbnN1cmFuY2UgQXBwbGljYXRpb24iLCJBdXRob3JpdGllcyI6WyJBRE1JTiJdLCJleHAiOjE2NzA2MTExNDEsImlhdCI6MTY3MDUyNDc0MX0.PWpgNQEGY55s_r-RAHhGpfrquBEs9R902HhWsZDGfXxeb09wb4Jrd8pRySpRpJ0tpU2ZeTtiGIAb2wQc88nOTA \n"},{"result":{"nanos":1555401,"millis":1.555401,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"print response.fullName"},"stepLog":"10:38:59.067 [print] Supervisor \n"},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"line":10,"prefix":"Then","index":6,"text":"status 200"}}],"line":3,"description":"","durationMillis":1332.409501,"failed":false,"tags":["test"],"executorName":"main","name":"Generate a token for CSR portal","startTime":1670524737734,"refId":"[1:3]","endTime":1670524739068,"exampleIndex":-1}],"callDepth":1,"name":"Token Generator for Insurance API","description":"","resultDate":"2022-12-08 10:38:59 AM","durationMillis":1332.409501,"passedCount":1}]},{"result":{"nanos":1079201,"millis":1.079201,"status":"passed"},"step":{"line":6,"prefix":"*","index":2,"text":"def tokenValue = token.response.token"}},{"result":{"nanos":7103099,"millis":7.103099,"status":"passed"},"step":{"line":7,"prefix":"*","index":3,"text":"header Authorization = \"Bearer \" + tokenValue"}},{"result":{"nanos":486900,"millis":0.4869,"status":"passed"},"step":{"line":8,"prefix":"*","index":4,"text":"path \"api\/accounts\/add-primary-account\""}},{"result":{"nanos":5122200,"millis":5.1222,"status":"passed"},"step":{"line":9,"prefix":"*","index":5,"text":"def generator = Java.type(\"api.test.DataGenerator\")"}},{"result":{"nanos":148166300,"millis":148.1663,"status":"passed"},"step":{"line":10,"prefix":"*","index":6,"text":"def email = generator.getEmail()"}},{"result":{"nanos":29569200,"millis":29.5692,"status":"passed"},"step":{"line":11,"prefix":"*","index":7,"text":"def firstName = generator.getFirstName()"}},{"result":{"nanos":25015800,"millis":25.0158,"status":"passed"},"step":{"line":12,"prefix":"*","index":8,"text":"def lastName = generator.getLastName()"}},{"result":{"nanos":2556199,"millis":2.556199,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"def dateOfBirth = generator.getDob()"}},{"result":{"nanos":22088000,"millis":22.088,"status":"passed"},"step":{"line":14,"prefix":"*","index":10,"text":"def title = generator.getTitle()"}},{"result":{"nanos":9924399,"millis":9.924399,"status":"passed"},"step":{"line":15,"prefix":"*","index":11,"text":"def gender = generator.getGender()"}},{"result":{"nanos":4347000,"millis":4.347,"status":"passed"},"step":{"line":16,"prefix":"*","index":12,"text":"def job = generator.getJob()"}},{"result":{"nanos":15592500,"millis":15.5925,"status":"passed"},"step":{"endLine":29,"line":17,"prefix":"And","docString":"{\n\"email\":\"#(email)\",\n\"firstName\":\"#(firstName)\",\n\"lastName\":\"#(lastName)\",\n\"title\":\"#(title)\",\n\"gender\":\"#(gender)\",\n\"maritalStatus\":\"#(maritalStatus)\",\n\"employmentStatus\":\"#(job)\",\n\"dateOfBirth\": \"#(dateOfBirth)\"\n}","index":13,"text":"request"}},{"result":{"nanos":351743800,"millis":351.7438,"status":"passed"},"step":{"line":30,"prefix":"And","index":14,"text":"method post"},"stepLog":"10:38:59.343 request:\n1 > POST https:\/\/tek-insurance-api.azurewebsites.net\/api\/accounts\/add-primary-account\n1 > Authorization: Bearer eyJraWQiOiJUZWtzY2hvb2wgSW5zdXJhbmNlIEFwcGxpY2F0aW9uIiwidHlwIjoiSldUIiwiYWxnIjoiSFM1MTIifQ.eyJhdWQiOiJVc2VyIG1hbmFnZW1lbnQgcG9ydGFsIiwic3ViIjoiU1VQRVJWSVNPUiIsImlzcyI6IlRlayBJbnN1cmFuY2UgQXBwbGljYXRpb24iLCJBdXRob3JpdGllcyI6WyJBRE1JTiJdLCJleHAiOjE2NzA2MTExNDEsImlhdCI6MTY3MDUyNDc0MX0.PWpgNQEGY55s_r-RAHhGpfrquBEs9R902HhWsZDGfXxeb09wb4Jrd8pRySpRpJ0tpU2ZeTtiGIAb2wQc88nOTA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 198\n1 > Host: tek-insurance-api.azurewebsites.net\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.15.1)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"VerdaStrosin@gmail.com\",\"firstName\":\"Tanja\",\"lastName\":\"Hackett\",\"title\":\"MR.\",\"gender\":\"MALE\",\"maritalStatus\":\"#(maritalStatus)\",\"employmentStatus\":\"Architect\",\"dateOfBirth\":\"1980-10-30\"}\n\n10:38:59.687 response time in milliseconds: 336\n1 < 500\n1 < Content-Type: application\/json\n1 < Date: Thu, 08 Dec 2022 18:39:01 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Set-Cookie: JSESSIONID=F67188999CC2C98972F531397537D6C7; Path=\/; Secure; HttpOnly\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Strict-Transport-Security: max-age=31536000 ; includeSubDomains\n1 < X-Frame-Options: DENY\n{\"timestamp\":1670524741836,\"message\":\"JSON parse error: Cannot deserialize value of type `us.tek.app.model.MartialStatus` from String \\\"#(maritalStatus)\\\": not one of the values accepted for Enum class: [SINGLE, WIDOW, MARRIED, DIVORCED, WIDOWER]; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `us.tek.app.model.MartialStatus` from String \\\"#(maritalStatus)\\\": not one of the values accepted for Enum class: [SINGLE, WIDOW, MARRIED, DIVORCED, WIDOWER]\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 122] (through reference chain: us.tek.app.model.dto.AddPrimaryAccountRequest[\\\"maritalStatus\\\"])\",\"detail\":\"uri=\/api\/accounts\/add-primary-account\",\"cause\":null}\n\n"},{"result":{"nanos":300000,"errorMessage":"status code was: 500, expected: 201, response time in milliseconds: 336, url: https:\/\/tek-insurance-api.azurewebsites.net\/api\/accounts\/add-primary-account, response: \n{\"timestamp\":1670524741836,\"message\":\"JSON parse error: Cannot deserialize value of type `us.tek.app.model.MartialStatus` from String \\\"#(maritalStatus)\\\": not one of the values accepted for Enum class: [SINGLE, WIDOW, MARRIED, DIVORCED, WIDOWER]; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `us.tek.app.model.MartialStatus` from String \\\"#(maritalStatus)\\\": not one of the values accepted for Enum class: [SINGLE, WIDOW, MARRIED, DIVORCED, WIDOWER]\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 122] (through reference chain: us.tek.app.model.dto.AddPrimaryAccountRequest[\\\"maritalStatus\\\"])\",\"detail\":\"uri=\/api\/accounts\/add-primary-account\",\"cause\":null}\nclasspath:features\/EndToEnd.feature:31","millis":0.3,"status":"failed"},"step":{"line":31,"prefix":"And","index":15,"text":"status 201"},"stepLog":"10:38:59.695 classpath:features\/EndToEnd.feature:31\nAnd status 201\nstatus code was: 500, expected: 201, response time in milliseconds: 336, url: https:\/\/tek-insurance-api.azurewebsites.net\/api\/accounts\/add-primary-account, response: \n{\"timestamp\":1670524741836,\"message\":\"JSON parse error: Cannot deserialize value of type `us.tek.app.model.MartialStatus` from String \\\"#(maritalStatus)\\\": not one of the values accepted for Enum class: [SINGLE, WIDOW, MARRIED, DIVORCED, WIDOWER]; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `us.tek.app.model.MartialStatus` from String \\\"#(maritalStatus)\\\": not one of the values accepted for Enum class: [SINGLE, WIDOW, MARRIED, DIVORCED, WIDOWER]\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 122] (through reference chain: us.tek.app.model.dto.AddPrimaryAccountRequest[\\\"maritalStatus\\\"])\",\"detail\":\"uri=\/api\/accounts\/add-primary-account\",\"cause\":null}\nclasspath:features\/EndToEnd.feature:31\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":32,"prefix":"And","index":16,"text":"print response.id"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":33,"prefix":"And","index":17,"text":"match response.email == email"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":34,"prefix":"And","index":18,"text":"match response.firstName == firstName"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":35,"prefix":"And","index":19,"text":"match response.lastName == lastName"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":36,"prefix":"And","index":20,"text":"match response.title == title"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":37,"prefix":"And","index":21,"text":"match response.gender == gender"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":22,"text":"match response.employmentStatus == job"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"And","index":23,"text":"def dbresult = Java.type(\"api.test.DatabaseConnectionUtility\")"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"And","index":24,"text":"def dbemail = dbresult.result(\"select * from primary_person where id = '\" + response.id +\"'\", \"email\" )"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"And","index":25,"text":"def dbFirstname = dbresult.result(\"select * from primary_person where id = '\" + response.id +\"'\", \"first_name\" )"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":26,"text":"def dbLastName = dbresult.result(\"select * from primary_person where id = '\" + response.id +\"'\", \"last_name\" )"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":27,"text":"def dbTitle = dbresult.result(\"select * from primary_person where id = '\" + response.id +\"'\", \"title\" )"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"And","index":28,"text":"def dbGender = dbresult.result(\"select * from primary_person where id = '\" + response.id +\"'\", \"gender\" )"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["#And def dbMaritalStatus = dbresult.result(\"select * from primary_person where id = '\" + response.id +\"'\", \"marital_status\" )"],"line":46,"prefix":"And","index":29,"text":"def dbEmpStatus = dbresult.result(\"select * from primary_person where id = '\" + response.id +\"'\", \"employment_status\" )"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"And","index":30,"text":"def dbdateOfBirth = dbresult.result(\"select * from primary_person where id = '\" + response.id +\"'\", \"date_of_birth\" )"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"And","index":31,"text":"match dbemail == email"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"And","index":32,"text":"match dbFirstname == firstName"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"And","index":33,"text":"match dbLastName == lastName"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"And","index":34,"text":"match dbTitle == title"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":52,"prefix":"And","index":35,"text":"match dbGender == gender"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":53,"prefix":"And","index":36,"text":"match dbEmpStatus == job"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"And","index":37,"text":"match dbdateOfBirth contains dateOfBirth"}}],"line":3,"description":"","durationMillis":1970.094599,"failed":true,"error":"status code was: 500, expected: 201, response time in milliseconds: 336, url: https:\/\/tek-insurance-api.azurewebsites.net\/api\/accounts\/add-primary-account, response: \n{\"timestamp\":1670524741836,\"message\":\"JSON parse error: Cannot deserialize value of type `us.tek.app.model.MartialStatus` from String \\\"#(maritalStatus)\\\": not one of the values accepted for Enum class: [SINGLE, WIDOW, MARRIED, DIVORCED, WIDOWER]; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `us.tek.app.model.MartialStatus` from String \\\"#(maritalStatus)\\\": not one of the values accepted for Enum class: [SINGLE, WIDOW, MARRIED, DIVORCED, WIDOWER]\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 122] (through reference chain: us.tek.app.model.dto.AddPrimaryAccountRequest[\\\"maritalStatus\\\"])\",\"detail\":\"uri=\/api\/accounts\/add-primary-account\",\"cause\":null}\nclasspath:features\/EndToEnd.feature:31","tags":["e2e"],"executorName":"main","name":"end to end","startTime":1670524737649,"refId":"[1:3]","endTime":1670524739695,"exampleIndex":-1}],"callDepth":0,"name":"End to End Testing of API","description":"","resultDate":"2022-12-08 10:38:59 AM","durationMillis":1970.094599,"passedCount":0}